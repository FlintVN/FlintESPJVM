{
    "version": "2.0.0",
    "inputs": [
        {
            "id": "chip",
            "type": "pickString",
            "description": "Select chip to build",
            "options": ["ESP32", "ESP32-C3FH4", "ESP32-C6FH4", "ESP32-C6FH8", "ESP32-S2FN4R2", "ESP32-S3FH4R2", "ESP32-S3N4RX", "ESP32-S3N8RX", "ESP32-S3N16RX"]
        },
        {
            "id": "com",
            "type": "promptString",
            "description": "SerialPort Name"
        }
    ],
    "tasks": [
        {
            "label": "Flash",
            "group": "build",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/build"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && esptool -p ${input:com} -b 460800 write-flash -z 0x00 ${input:chip}_FlintJVM_Release.bin"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && esptool -p ${input:com} -b 921600 write-flash -z 0x00 ${input:chip}_FlintJVM_Release.bin"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && esptool -p ${input:com} -b 921600 write_flash -z 0x00 ${input:chip}_FlintJVM_Release.bin",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Monitor",
            "group": "build",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/${input:chip}"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py -p ${input:com} -b 460800 monitor"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py -p ${input:com} -b 460800 monitor"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py -p ${input:com} -b 460800 monitor",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Clean",
            "group": "build",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM"},
            "osx": {"command": "rm -rf build/* */build */sdkconfig */dependencies.lock */managed_components"},
            "linux": {"command": "rm -rf build/* */build */sdkconfig */dependencies.lock */managed_components"},
            "windows": {"command": "Tools/rm -rf build/* */build */sdkconfig */dependencies.lock */managed_components"}
        },
        {
            "label": "Build (Select Chip)",
            "group": "build",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/${input:chip}"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32-C3FH4",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32-C3FH4"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32-C6FH4",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32-C6FH4"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32-C6FH8",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32-C6FH8"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32-S2FN4R2",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32-S2FN4R2"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32-S3FH4R2",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32-S3FH4R2"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32-S3N4RX",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32-S3N4RX"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32-S3N8RX",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32-S3N8RX"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build ESP32-S3N16RX",
            "group": "none",
            "type": "shell",
            "options": {"cwd": "${workspaceFolder}/BUILD_SYSTEM/ESP32-S3N16RX"},
            "osx": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "linux": {"command": ". ${env:IDF_PATH}/export.sh && idf.py build"},
            "windows": {
                "command": "${env:IDF_PATH}/export.bat && idf.py build",
                "options": {"shell": {"executable": "cmd.exe", "args": ["/c"]}}
            },
            "presentation": {"reveal": "always", "clear": true},
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Build All Parallel",
            "group": "none",
            "type": "shell",
            "dependsOrder": "parallel",
            "dependsOn": [
                "Build ESP32",
                "Build ESP32-C3FH4",
                "Build ESP32-C6FH4",
                "Build ESP32-C6FH8",
                "Build ESP32-S2FN4R2",
                "Build ESP32-S3FH4R2",
                "Build ESP32-S3N4RX",
                "Build ESP32-S3N8RX",
                "Build ESP32-S3N16RX"
            ]
        },
        {
            "label": "Build All",
            "group": "build",
            "type": "shell",
            "dependsOrder": "sequence",
            "dependsOn": [
                "Clean",
                "Build All Parallel"
            ]
        }
    ]
}
